---
title: åŸºäºOPAçš„Iå‹è¡¥å¿å™¨è®¡ç®—
date: 2022-01-16 19:00:00
permalink: /pages/20220116190000
categories: 
  - æŠ€æœ¯
  - æŠ€æœ¯æ–‡æ¡£
tags: 
  - null
author: 
  name: Roger
  link: https://github.com/Roger0x0000
---

&#8194;&#8194;&#8194;&#8194;åŸºäºOPAçš„Iå‹è¡¥å¿å™¨è®¡ç®—

<!-- more -->

# åŸºäºOPAçš„Iå‹è¡¥å¿å™¨è®¡ç®—

## â… å‹è¡¥å¿å™¨


![â… å‹è¡¥å¿å™¨](/blog/blog_image/20220116131018.png 'â… å‹è¡¥å¿å™¨')

### ä¼ é€’å‡½æ•°æ¨å¯¼

&#8194;&#8194;&#8194;&#8194;å€ŸåŠ©Pythonå¯ä»¥æ–¹ä¾¿æ¨å¯¼å‡ºè¡¥å¿å™¨çš„ä¼ é€’å‡½æ•°ï¼š

```Python
            
import sympy as sp

R1,C1,s = sp.symbols('R1 C1 s')
 
Zf =  1/(C1*s)
Zi = R1

H1 = sp.factor(Zf/Zi)
print("H1 = ",H1)  
# H1 =  1/(C1*R1*s)

```

&#8194;&#8194;&#8194;&#8194;ä¼ é€’å‡½æ•°ï¼š

$$G(s)=\frac{V_{err}(s)}{V_{out}(s)}=-\frac{Z_{f}}{Z_{i}}=-\frac{\frac{1}{s\bullet C}}{R1}=-\frac{1}{s\bullet R1\bullet C1} \text { (1)} $$

$$G(s)=-\frac{1}{\frac{s}{\omega_{p0}}}$$

&#8194;&#8194;&#8194;&#8194;<font color=red>**0dBç©¿è¶Šæç‚¹ï¼š**</font>
$$\omega_{p0}=\frac{1}{R1\bullet C1}$$

### å‚æ•°è®¡ç®—

+ åŸºäºç¨³æ€å€¼å¾—åˆ°R1çš„å€¼ï¼›
+ ç¡®å®šç©¿è¶Šé¢‘ç‡$f_c$ä¸åœ¨ç©¿è¶Šé¢‘ç‡å¤„è¡¥å¿å™¨èµ‹å€¼æå‡æˆ–å‡å°‘é‡ï¼›
+ æ ¹æ®ä¸Šé¢ä¿¡æ¯è®¡ç®—0dBç©¿è¶Šæç‚¹é¢‘ç‡$f_{p0}$çš„ä½ç½®ï¼›
$$f_{p0}=\frac{0dB - (-G_{f_c})}{-20dB/dec}\bullet f_c$$
&#8194;&#8194;&#8194;&#8194;å…¶ä¸­ï¼Œ$G_{f_c}$ä¸ºåŠŸç‡çº§ä¼ é€’å‡½æ•°åœ¨ç©¿è¶Šé¢‘ç‡$f_c$å¤„çš„å¹…å€¼å¤§å°ï¼Œ$f_c$ä¸ºç©¿è¶Šé¢‘ç‡ï¼Œ$f_{p0}$ä¸º0dBç©¿è¶Šæç‚¹é¢‘ç‡ã€‚
+ è®¡ç®—C1çš„å€¼ï¼›

$$C_{1}=\frac{1}{2\bullet Ï€\bullet R1\bullet f_{p0}}$$

### æ¡ˆä¾‹

&#8194;&#8194;&#8194;&#8194;å‡è®¾æœ‰ä¸€ä¸ªå¼€å…³ç”µæºåœ¨ç©¿è¶Šé¢‘ç‡1kHzå¤„çš„å¢ç›Šä¸º$G_{f_c}=-20dB$ï¼Œè¯·ä¸ºå®ƒè®¾è®¡ä¸€ä¸ªè¡¥å¿ç”µè·¯ï¼Œç›¸ä½ä¸éœ€è¦æå‡ã€‚


&#8194;&#8194;&#8194;&#8194;å€ŸåŠ©Pythonå¯ä»¥æ–¹ä¾¿è®¡ç®—å‡ºè¡¥å¿å™¨çš„å‚æ•°ï¼š

```Python

import numpy as np
import matplotlib.pyplot as plt
import control as ctrl
import math


s = ctrl.tf('s')
R1 = 10e3     #10k
fc = 1e3     #1k
G_fc = 20

# 20dB/dec è½¬æ¢æˆåè¿›åˆ¶ æ¢ç®—
y1 = math.pow(10.0,(G_fc/20)) # 20dBè½¬æ¢æˆåè¿›åˆ¶
y2 = math.pow(10.0,((G_fc-20)/20))  #  0dBè½¬æ¢æˆåè¿›åˆ¶

x1 = fc
x2 = 10*x1

k = (y1-y2)/(x1-x2)
b = y1 - k*x1

f_p0 = (math.pow(10.0,(0/20)) - b)/k  #ğ‘“ğ‘0ä¸º0dBç©¿è¶Šæç‚¹é¢‘ç‡

print("f_p0 =", f_p0, "Hz") # f_p0 = 10000.0 Hz

C1 = 1/(2*np.pi*R1*f_p0)    # C1 = 1.5915494309189533 nF
print("C1 =", C1*math.pow(10.0,9), "nF")  
print("R1 =", R1, "Î©")  # R1 = 10000.0 Î©

Hp = -(1/(s*R1*C1))

f = np.logspace(-1, 6, 1000)
w = 2 * np.pi * f

mag,phase,omega=ctrl.bode_plot(Hp,w,dB=True,Hz=True,deg=True,Plot=True,label='Hp')

plt.legend()
plt.show()

```

![â… å‹è¡¥å¿å™¨](/blog/blog_image/20220116160551.png 'â… å‹è¡¥å¿å™¨')





## å‚è€ƒæ–‡æ¡£


[åŸºäºpython - å­¦ä¹ æ¨¡æ‹Ÿè¡¥å¿å™¨](https://www.bilibili.com/video/BV1DF411H7r5)

[å¼€å…³ç”µæºç³»åˆ—è¯¾ç¨‹](https://www.darwinlearns.com/)
